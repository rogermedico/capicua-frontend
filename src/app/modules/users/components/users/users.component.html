<div class="container" *ngIf="(usersState$ | async).users != null; else loading">
  <mat-card class="mat-elevation-z4">
    <mat-card-title>Users</mat-card-title>
    <mat-card-content>
      <mat-table [dataSource]="dataSource" matSort>

        <ng-container matColumnDef="name">
          <mat-header-cell *matHeaderCellDef mat-sort-header>Name</mat-header-cell>
          <mat-cell *matCellDef="let element">{{element.name}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="surname">
          <mat-header-cell *matHeaderCellDef mat-sort-header>Surname</mat-header-cell>
          <mat-cell *matCellDef="let element">{{element.surname}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="rank">
          <mat-header-cell *matHeaderCellDef mat-sort-header>Rank</mat-header-cell>
          <mat-cell *matCellDef="let element">{{element.userType.name}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="actions">
          <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>
          <mat-cell *matCellDef="let element">asdf</mat-cell>
        </ng-container>


        <mat-header-row *matHeaderRowDef="usersDisplayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: usersDisplayedColumns;"></mat-row>

      </mat-table>
    </mat-card-content>
  </mat-card>
</div>

<ng-template #loading>
  <div fxLayout fxLayoutAlign="center center" class="spinner">
    <mat-spinner color="accent"></mat-spinner>
  </div>
</ng-template>